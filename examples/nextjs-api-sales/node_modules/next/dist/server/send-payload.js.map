{"version":3,"sources":["../../server/send-payload.ts"],"names":["IncomingMessage","ServerResponse","BaseNextResponse","isResSent","generateETag","fresh","RenderResult","setRevalidateHeaders","res","options","private","stateful","hasHeader","setHeader","revalidate","Error","sendRenderResult","req","result","type","generateEtags","poweredByHeader","payload","isDynamic","toUnchunkedString","etag","undefined","sendEtagResponse","getHeader","Buffer","byteLength","method","end","pipe","headers","statusCode"],"mappings":"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"}