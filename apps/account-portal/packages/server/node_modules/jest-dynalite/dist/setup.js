"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const config_1 = require("./config");
exports.default = (withConfigDir) => {
    (0, config_1.setConfigDir)(withConfigDir);
    const port = (0, config_1.getDynalitePort)();
    // Provide environment variables before other scripts are executed
    process.env.MOCK_DYNAMODB_PORT = port.toString();
    process.env.MOCK_DYNAMODB_ENDPOINT = `http://localhost:${port}`;
    // aws-sdk requires access and secret key to be able to call DDB
    if (!process.env.AWS_ACCESS_KEY_ID) {
        process.env.AWS_ACCESS_KEY_ID = "access-key";
    }
    if (!process.env.AWS_SECRET_ACCESS_KEY) {
        process.env.AWS_SECRET_ACCESS_KEY = "secret-key";
    }
};
//# sourceMappingURL=setup.js.map