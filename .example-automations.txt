{
    "_id": "au_b14d1f24a1af4b36ab29bea9de56e69c",
    "_rev": "105-77e3b0d7a28151748f9e79b97dd881e7",
    "definition": {
        "steps": [
            {
                "name": "Create Row",
                "tagline": "Create a {{inputs.enriched.table.name}} row",
                "icon": "TableRowAddBottom",
                "description": "Add a row to your database",
                "type": "ACTION",
                "internal": true,
                "features": {
                    "LOOPING": true
                },
                "stepId": "CREATE_ROW",
                "inputs": {},
                "schema": {
                    "inputs": {
                        "properties": {
                            "row": {
                                "type": "object",
                                "properties": {
                                    "tableId": {
                                        "type": "string",
                                        "customType": "table"
                                    }
                                },
                                "customType": "row",
                                "title": "Table",
                                "required": [
                                    "tableId"
                                ]
                            }
                        },
                        "required": [
                            "row"
                        ]
                    },
                    "outputs": {
                        "properties": {
                            "row": {
                                "type": "object",
                                "customType": "row",
                                "description": "The new row"
                            },
                            "response": {
                                "type": "object",
                                "description": "The response from the table"
                            },
                            "success": {
                                "type": "boolean",
                                "description": "Whether the row creation was successful"
                            },
                            "id": {
                                "type": "string",
                                "description": "The identifier of the new row"
                            },
                            "revision": {
                                "type": "string",
                                "description": "The revision of the new row"
                            }
                        },
                        "required": [
                            "success",
                            "id",
                            "revision"
                        ]
                    }
                },
                "id": "mpS4FFAkI"
            },
            {
                "name": "Looping",
                "icon": "recycle",
                "tagline": "Loop the block",
                "description": "Loop",
                "stepId": "LOOP",
                "internal": true,
                "features": {},
                "inputs": {},
                "schema": {
                    "inputs": {
                        "properties": {
                            "option": {
                                "customType": "loopOption",
                                "title": "Input type"
                            },
                            "binding": {
                                "type": "string",
                                "title": "Binding / Value"
                            },
                            "iterations": {
                                "type": "number",
                                "title": "Max loop iterations"
                            },
                            "failure": {
                                "type": "string",
                                "title": "Failure Condition"
                            }
                        },
                        "required": [
                            "type",
                            "value",
                            "iterations",
                            "failure"
                        ]
                    },
                    "outputs": {
                        "properties": {
                            "items": {
                                "customType": "item",
                                "description": "The item currently being executed"
                            },
                            "success": {
                                "type": "boolean",
                                "description": "Whether the message loop was successfully"
                            },
                            "iterations": {
                                "type": "number",
                                "description": "The amount of times the block ran"
                            }
                        },
                        "required": [
                            "success",
                            "items",
                            "iterations"
                        ]
                    }
                },
                "type": "ACTION",
                "id": "C7gt-HEkc",
                "blockToLoop": "ebd5BiL1f"
            },
            {
                "name": "Backend log",
                "tagline": "Console log a value in the backend",
                "icon": "activity",
                "description": "Logs the given text to the server (using console.log)",
                "type": "ACTION",
                "internal": true,
                "features": {
                    "LOOPING": true
                },
                "stepId": "SERVER_LOG",
                "inputs": {
                    "schema": {},
                    "text": "hello"
                },
                "schema": {
                    "inputs": {
                        "properties": {
                            "text": {
                                "type": "string",
                                "title": "Log"
                            }
                        },
                        "required": [
                            "text"
                        ]
                    },
                    "outputs": {
                        "properties": {
                            "success": {
                                "type": "boolean",
                                "description": "Whether the action was successful"
                            },
                            "message": {
                                "type": "string",
                                "description": "What was output"
                            }
                        },
                        "required": [
                            "success",
                            "message"
                        ]
                    }
                },
                "id": "ebd5BiL1f"
            },
            {
                "name": "Branch",
                "icon": "git-branch",
                "tagline": "Branch from this step",
                "description": "Branching",
                "stepId": "BRANCH",
                "internal": true,
                "features": {},
                "inputs": {
                    "branches": [
                        {
                            "name": "Branch 3",
                            "condition": {
                                "onEmptyFilter": "none",
                                "$and": {
                                    "conditions": [
                                        {
                                            "$or": {
                                                "conditions": [
                                                    {
                                                        "equal": {
                                                            "true": "true"
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            },
                            "conditionUI": {
                                "logicalOperator": "all",
                                "onEmptyFilter": "none",
                                "groups": [
                                    {
                                        "logicalOperator": "any",
                                        "filters": [
                                            {
                                                "valueType": "Value",
                                                "operator": "equal",
                                                "field": "true",
                                                "value": "true"
                                            }
                                        ]
                                    }
                                ]
                            },
                            "id": "ly_wuBhD0"
                        },
                        {
                            "name": "Branch 4",
                            "condition": {
                                "onEmptyFilter": "none",
                                "$and": {
                                    "conditions": []
                                }
                            },
                            "conditionUI": {
                                "logicalOperator": "all",
                                "onEmptyFilter": "none",
                                "groups": []
                            },
                            "id": "MiUCCZyly"
                        },
                        {
                            "name": "Branch 3",
                            "condition": {
                                "onEmptyFilter": "none",
                                "$and": {
                                    "conditions": []
                                }
                            },
                            "conditionUI": {
                                "logicalOperator": "all",
                                "onEmptyFilter": "none",
                                "groups": []
                            },
                            "id": "r-Ci2IzUp"
                        }
                    ],
                    "children": {
                        "ly_wuBhD0": [
                            {
                                "name": "Backend log 2",
                                "tagline": "Console log a value in the backend",
                                "icon": "activity",
                                "description": "Logs the given text to the server (using console.log)",
                                "type": "ACTION",
                                "internal": true,
                                "features": {
                                    "LOOPING": true
                                },
                                "stepId": "SERVER_LOG",
                                "inputs": {
                                    "text": ""
                                },
                                "schema": {
                                    "inputs": {
                                        "properties": {
                                            "text": {
                                                "type": "string",
                                                "title": "Log"
                                            }
                                        },
                                        "required": [
                                            "text"
                                        ]
                                    },
                                    "outputs": {
                                        "properties": {
                                            "success": {
                                                "type": "boolean",
                                                "description": "Whether the action was successful"
                                            },
                                            "message": {
                                                "type": "string",
                                                "description": "What was output"
                                            }
                                        },
                                        "required": [
                                            "success",
                                            "message"
                                        ]
                                    }
                                },
                                "id": "t7ffhik-b"
                            },
                            {
                                "name": "Branch 2",
                                "icon": "git-branch",
                                "tagline": "Branch from this step",
                                "description": "Branching",
                                "stepId": "BRANCH",
                                "internal": true,
                                "features": {},
                                "inputs": {
                                    "branches": [
                                        {
                                            "name": "Branch 1",
                                            "condition": {
                                                "onEmptyFilter": "none",
                                                "$and": {
                                                    "conditions": []
                                                }
                                            },
                                            "conditionUI": {
                                                "logicalOperator": "all",
                                                "onEmptyFilter": "none",
                                                "groups": []
                                            },
                                            "id": "dvFmg0BiT3"
                                        },
                                        {
                                            "name": "Branch 2",
                                            "condition": {
                                                "onEmptyFilter": "none",
                                                "$and": {
                                                    "conditions": []
                                                }
                                            },
                                            "conditionUI": {
                                                "logicalOperator": "all",
                                                "onEmptyFilter": "none",
                                                "groups": []
                                            },
                                            "id": "rxaeX82K9q"
                                        }
                                    ],
                                    "children": {
                                        "dvFmg0BiT3": [],
                                        "rxaeX82K9q": []
                                    }
                                },
                                "schema": {
                                    "inputs": {
                                        "properties": {
                                            "branches": {
                                                "properties": {
                                                    "name": {
                                                        "type": "string"
                                                    },
                                                    "condition": {
                                                        "customType": "filters"
                                                    }
                                                }
                                            },
                                            "children": {
                                                "type": "array"
                                            }
                                        },
                                        "required": [
                                            "conditions"
                                        ]
                                    },
                                    "outputs": {
                                        "properties": {
                                            "branchName": {
                                                "type": "string"
                                            },
                                            "status": {
                                                "type": "string",
                                                "description": "Branch result"
                                            },
                                            "branchId": {
                                                "type": "string",
                                                "description": "Branch ID"
                                            },
                                            "success": {
                                                "type": "boolean",
                                                "description": "Branch success"
                                            }
                                        },
                                        "required": [
                                            "output"
                                        ]
                                    }
                                },
                                "type": "ACTION",
                                "id": "E55Mv3Wqd"
                            }
                        ],
                        "MiUCCZyly": [],
                        "r-Ci2IzUp": []
                    }
                },
                "schema": {
                    "inputs": {
                        "properties": {
                            "branches": {
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "condition": {
                                        "customType": "filters"
                                    }
                                }
                            },
                            "children": {
                                "type": "array"
                            }
                        },
                        "required": [
                            "conditions"
                        ]
                    },
                    "outputs": {
                        "properties": {
                            "branchName": {
                                "type": "string"
                            },
                            "status": {
                                "type": "string",
                                "description": "Branch result"
                            },
                            "branchId": {
                                "type": "string",
                                "description": "Branch ID"
                            },
                            "success": {
                                "type": "boolean",
                                "description": "Branch success"
                            }
                        },
                        "required": [
                            "output"
                        ]
                    }
                },
                "type": "ACTION",
                "id": "Zb8gnXgCx"
            }
        ],
        "trigger": {
            "name": "App Action",
            "event": "app:trigger",
            "icon": "Apps",
            "tagline": "Automation fired from the frontend",
            "description": "Trigger an automation from an action inside your app",
            "stepId": "APP",
            "inputs": {},
            "schema": {
                "inputs": {
                    "properties": {
                        "fields": {
                            "type": "object",
                            "customType": "triggerSchema",
                            "title": "Fields"
                        }
                    },
                    "required": []
                },
                "outputs": {
                    "properties": {
                        "fields": {
                            "type": "object",
                            "description": "Fields submitted from the app frontend",
                            "customType": "triggerSchema"
                        }
                    },
                    "required": [
                        "fields"
                    ]
                }
            },
            "type": "TRIGGER",
            "id": "H7M6LNy-F"
        }
    },
    "appId": "app_dev_5985a5f7a63a4d1499a8881b08e15d6f",
    "name": "From Button",
    "type": "automation",
    "disabled": false,
    "createdAt": "2025-06-09T14:56:49.113Z",
    "updatedAt": "2025-08-04T12:15:07.890Z"
},


     {
            "_id": "au_635bcbfd057a4c9c942b169d70de3e4e",
            "_rev": "7-c0c8b583128ad0133b74cede52336ee8",
            "definition": {
                "steps": [
                    {
                        "name": "Looping",
                        "icon": "recycle",
                        "tagline": "Loop the block",
                        "description": "Loop",
                        "stepId": "LOOP",
                        "internal": true,
                        "features": {},
                        "inputs": {
                            "schema": {},
                            "option": "Array",
                            "binding": "[1,2,3]"
                        },
                        "schema": {
                            "inputs": {
                                "properties": {
                                    "option": {
                                        "customType": "loopOption",
                                        "title": "Input type"
                                    },
                                    "binding": {
                                        "type": "string",
                                        "title": "Binding / Value"
                                    },
                                    "iterations": {
                                        "type": "number",
                                        "title": "Max loop iterations"
                                    },
                                    "failure": {
                                        "type": "string",
                                        "title": "Failure Condition"
                                    }
                                },
                                "required": [
                                    "type",
                                    "value",
                                    "iterations",
                                    "failure"
                                ]
                            },
                            "outputs": {
                                "properties": {
                                    "items": {
                                        "customType": "item",
                                        "description": "The item currently being executed"
                                    },
                                    "success": {
                                        "type": "boolean",
                                        "description": "Whether the message loop was successfully"
                                    },
                                    "iterations": {
                                        "type": "number",
                                        "description": "The amount of times the block ran"
                                    }
                                },
                                "required": [
                                    "success",
                                    "items",
                                    "iterations"
                                ]
                            }
                        },
                        "type": "ACTION",
                        "id": "_Tvm0QNER",
                        "blockToLoop": "C6UC2E_6B"
                    },
                    {
                        "name": "Backend log",
                        "tagline": "Console log a value in the backend",
                        "icon": "activity",
                        "description": "Logs the given text to the server (using console.log)",
                        "type": "ACTION",
                        "internal": true,
                        "features": {
                            "LOOPING": true
                        },
                        "stepId": "SERVER_LOG",
                        "inputs": {
                            "schema": {},
                            "text": "{{ loop.currentItem }}"
                        },
                        "schema": {
                            "inputs": {
                                "properties": {
                                    "text": {
                                        "type": "string",
                                        "title": "Log"
                                    }
                                },
                                "required": [
                                    "text"
                                ]
                            },
                            "outputs": {
                                "properties": {
                                    "success": {
                                        "type": "boolean",
                                        "description": "Whether the action was successful"
                                    },
                                    "message": {
                                        "type": "string",
                                        "description": "What was output"
                                    }
                                },
                                "required": [
                                    "success",
                                    "message"
                                ]
                            }
                        },
                        "id": "C6UC2E_6B"
                    }
                ],
                "trigger": {
                    "name": "User action",
                    "event": "app:trigger",
                    "icon": "cursor-click",
                    "tagline": "Automation fired from the frontend",
                    "description": "Trigger an automation from an action inside your app",
                    "stepId": "APP",
                    "inputs": {},
                    "schema": {
                        "inputs": {
                            "properties": {
                                "fields": {
                                    "type": "object",
                                    "customType": "triggerSchema",
                                    "title": "Fields"
                                }
                            },
                            "required": []
                        },
                        "outputs": {
                            "properties": {
                                "fields": {
                                    "type": "object",
                                    "description": "Fields submitted from the app frontend",
                                    "customType": "triggerSchema"
                                }
                            },
                            "required": [
                                "fields"
                            ]
                        }
                    },
                    "type": "TRIGGER",
                    "id": "n7U-A3wi6"
                }
            },
            "appId": "app_dev_5985a5f7a63a4d1499a8881b08e15d6f",
            "name": "test loop",
            "type": "automation",
            "disabled": false,
            "createdAt": "2025-07-17T10:42:55.816Z",
            "updatedAt": "2025-07-17T10:43:10.688Z"
        },